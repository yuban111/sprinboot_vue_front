import{_ as M}from"./index-167a1727.js";import{E as b,a as N,p as R,q as z,k as I,r as S,s as $,e as j,h as A}from"./element-plus-28eabd23.js";import{_ as K}from"./index-5239cda9.js";import{E as Q}from"./@element-plus-51afdc8f.js";import{h as k}from"./index-5de9982a.js";import{d as T,e as p,f as G,V as x,al as H,o as _,c as g,U as l,M as r,a as t,u as n,a3 as m,i as J,K as O,aj as P,R as W,E as X,Q as V}from"./@vue-293b3db8.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import"./dayjs-6997e6a6.js";import"./copy-to-clipboard-55affb02.js";import"./toggle-selection-93f4ad84.js";import"./lodash-es-327b7962.js";import"./async-validator-dee29e8b.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./@vueuse-9d87eeea.js";import"./pinia-b73abff6.js";import"./vue-demi-71ba0ef2.js";import"./axios-b5ee139b.js";import"./nprogress-b52be870.js";import"./vue-router-3c7b10bc.js";import"./@codemirror-b3ba2dcc.js";import"./@lezer-5d82abd9.js";import"./crelt-7bb88e1d.js";import"./@marijn-45184d7f.js";import"./style-mod-ab9c37a6.js";import"./w3c-keyname-9fb136d3.js";function Z(f){return k({url:"/link/auth/apply",method:"post",data:f})}function ee(){return k({url:"/link/list",method:"get"})}const te={class:"form"},oe={style:{width:"100%",display:"flex","flex-direction":"row-reverse"}},le={class:"content"},re={class:"header"},ne={class:"link"},se={class:"content_link"},ie={class:"name"},ae=["href"],me={class:"description"},de=T({__name:"index",setup(f){const d=p(!1);G(()=>{w()});const c=p();function w(){ee().then(a=>{a.code===200?c.value=a.data:b.error(a.msg)})}const s=x({name:"",url:"",description:"",background:"",email:"",type:"1"}),v=p(),E=x({name:[{required:!0,message:"请填写网站名称",trigger:"blur"},{min:3,max:15,message:"长度小3，最大15",trigger:"blur"}],url:[{required:!0,message:"请填写网站地址",trigger:"blur"},{min:3,max:50,message:"长度小3，最大50",trigger:"blur"}],description:[{required:!0,message:"请填写网站描述",trigger:"blur"},{min:3,max:30,message:"长度小3，最大15",trigger:"blur"}],background:[{required:!0,message:"请填写友链背景图链接",trigger:"blur"},{min:3,max:100,message:"长度小3，最大100",trigger:"blur"}],email:[{required:!0,message:"请填写电子邮件地址",trigger:"blur"},{min:3,max:20,message:"长度小3，最大15",trigger:"blur"}]});function h(){var a;(a=v.value)==null||a.validate(async e=>{if(e)await Z(s).then(i=>{i.code===200?(N({title:"成功",showClose:!1,duration:6e3,message:"友链申请提交成功，待通过审核后会通过邮件通知您，请注意查收",type:"success"}),d.value=!1):b.error(i.msg)});else return!1})}return(a,e)=>{const i=R,u=z,y=I,F=S,U=$,q=K,B=j,C=A,D=M,L=H("slide-in");return _(),g("div",null,[l(U,{modelValue:n(d),"onUpdate:modelValue":e[5]||(e[5]=o=>J(d)?d.value=o:null),title:"申请友链",width:"35%",style:{"border-radius":"15px"},"close-on-click-modal":!1,"lock-scroll":!1},{default:r(()=>[t("div",te,[e[13]||(e[13]=t("div",{style:{display:"flex","align-items":"center","margin-bottom":"1rem"}},null,-1)),l(F,{model:n(s),ref_key:"ruleFormRef",ref:v,rules:n(E)},{default:r(()=>[l(u,{prop:"name"},{default:r(()=>[l(i,{modelValue:n(s).name,"onUpdate:modelValue":e[0]||(e[0]=o=>n(s).name=o),placeholder:"请输入网站名称",maxlength:"15","show-word-limit":""},{prepend:r(()=>[...e[7]||(e[7]=[m(" 网站名称 ",-1)])]),_:1},8,["modelValue"])]),_:1}),l(u,{prop:"url"},{default:r(()=>[l(i,{modelValue:n(s).url,"onUpdate:modelValue":e[1]||(e[1]=o=>n(s).url=o),placeholder:"请输入网站地址",maxlength:"50","show-word-limit":""},{prepend:r(()=>[...e[8]||(e[8]=[m(" 网站地址 ",-1)])]),_:1},8,["modelValue"])]),_:1}),l(u,{prop:"description"},{default:r(()=>[l(i,{modelValue:n(s).description,"onUpdate:modelValue":e[2]||(e[2]=o=>n(s).description=o),placeholder:"请输入网站描述",maxlength:"30","show-word-limit":""},{prepend:r(()=>[...e[9]||(e[9]=[m(" 网站描述 ",-1)])]),_:1},8,["modelValue"])]),_:1}),l(u,{prop:"background"},{default:r(()=>[l(i,{modelValue:n(s).background,"onUpdate:modelValue":e[3]||(e[3]=o=>n(s).background=o),placeholder:"请提供http地址",maxlength:"100","show-word-limit":""},{prepend:r(()=>[...e[10]||(e[10]=[m(" 背景图片 ",-1)])]),_:1},8,["modelValue"])]),_:1}),l(u,{prop:"email"},{default:r(()=>[l(i,{modelValue:n(s).email,"onUpdate:modelValue":e[4]||(e[4]=o=>n(s).email=o),placeholder:"填写邮箱地址",maxlength:"20","show-word-limit":""},{prepend:r(()=>[...e[11]||(e[11]=[m(" 邮箱地址 ",-1)])]),_:1},8,["modelValue"])]),_:1}),t("div",oe,[l(y,{type:"primary",plain:"",onClick:h},{default:r(()=>[...e[12]||(e[12]=[m("提交申请",-1)])]),_:1})])]),_:1},8,["model","rules"])])]),_:1},8,["modelValue"]),l(D,{"only-father-container":""},{banner:r(()=>[l(q,{title:"友链",subtitle:"link"})]),content:r(()=>[t("div",le,[t("div",re,[e[15]||(e[15]=t("div",{class:"title"},"友链",-1)),l(y,{type:"primary",icon:n(Q),plain:"",onClick:e[6]||(e[6]=o=>d.value=!0),style:{"margin-right":"1rem"}},{default:r(()=>[...e[14]||(e[14]=[m("申请友链",-1)])]),_:1},8,["icon"])]),l(B),e[16]||(e[16]=t("div",{class:"title_content"},[t("span",{style:{"font-size":"1rem",color:"grey"}},"欢迎访问友链板块！"),t("span",null,"友链板块是一个旨在促进不同系统间相互协作和交流的平台。通过友链板块，您可以："),t("span",null,"1、分享自己系统的介绍和链接。"),t("span",null,"2、发现更多的优秀博客网站。"),t("span",{style:{"font-size":"1rem",color:"grey"}},"注意："),t("span",null,"1、友链申请前必须先登录本网站，申请通过后会通过邮件的形式通知你。"),t("span",null,"2、点击网站的名称进行友链跳转。")],-1)),t("div",ne,[(_(!0),g(O,null,P(n(c),o=>W((_(),g("div",{key:o.id,class:"item"},[t("div",{class:"bg",style:X({background:`url(${o.background})`})},null,4),t("div",se,[t("div",null,[l(C,{src:o.avatar},null,8,["src"]),t("div",ie,[t("a",{href:o.url},V(o.name),9,ae)])]),t("div",me,V(o.description),1)])])),[[L]])),128))])])]),_:1})])}}});const Ie=Y(de,[["__scopeId","data-v-0a7544c6"]]);export{Ie as default};
