import{t as te,r as J,b as ne,e as k,f as P,n as B,u as re,g as oe,i as ie,h as se,j as ae,k as x,w as N,l as M,s as ue,m as le}from"./@vue-293b3db8.js";function R(e){return se()?(ae(e),!0):!1}function C(e){return typeof e=="function"?e():re(e)}const U=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ce=e=>e!=null,fe=Object.prototype.toString,de=e=>fe.call(e)==="[object Object]",q=()=>{};function pe(e,t){function n(...i){return new Promise((o,r)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(o).catch(r)})}return n}const G=e=>e();function me(e=G){const t=k(!0);function n(){t.value=!1}function i(){t.value=!0}const o=(...r)=>{t.value&&e(...r)};return{isActive:J(t),pause:n,resume:i,eventFilter:o}}function K(e){return e||x()}function Q(...e){if(e.length!==1)return te(...e);const t=e[0];return typeof t=="function"?J(ne(()=>({get:t,set:q}))):k(t)}function he(e,t,n={}){const{eventFilter:i=G,...o}=n;return N(e,pe(i,t),o)}function ve(e,t,n={}){const{eventFilter:i,...o}=n,{eventFilter:r,pause:l,resume:c,isActive:a}=me(i);return{stop:he(e,t,{...o,eventFilter:r}),pause:l,resume:c,isActive:a}}function ge(e,t){K(t)&&oe(e,t)}function V(e,t=!0,n){K()?P(e,n):t?e():B(e)}function Me(e=!1,t={}){const{truthyValue:n=!0,falsyValue:i=!1}=t,o=ie(e),r=k(e);function l(c){if(arguments.length)return r.value=c,r.value;{const a=C(n);return r.value=r.value===a?C(i):a,r.value}}return o?l:[r,l]}function z(e){var t;const n=C(e);return(t=n==null?void 0:n.$el)!=null?t:n}const b=U?window:void 0,ye=U?window.document:void 0;function j(...e){let t,n,i,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,o]=e,t=b):[t,n,i,o]=e,!t)return q;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],l=()=>{r.forEach(p=>p()),r.length=0},c=(p,u,f,m)=>(p.addEventListener(u,f,m),()=>p.removeEventListener(u,f,m)),a=N(()=>[z(t),C(o)],([p,u])=>{if(l(),!p)return;const f=de(u)?{...u}:u;r.push(...n.flatMap(m=>i.map(y=>c(p,m,y,f))))},{immediate:!0,flush:"post"}),d=()=>{a(),l()};return R(d),d}function we(){const e=k(!1),t=x();return t&&P(()=>{e.value=!0},t),e}function Y(e){const t=we();return M(()=>(t.value,!!e()))}function Se(e,t,n={}){const{window:i=b,...o}=n;let r;const l=Y(()=>i&&"MutationObserver"in i),c=()=>{r&&(r.disconnect(),r=void 0)},a=M(()=>{const f=C(e),m=(Array.isArray(f)?f:[f]).map(z).filter(ce);return new Set(m)}),d=N(()=>a.value,f=>{c(),l.value&&f.size&&(r=new MutationObserver(t),f.forEach(m=>r.observe(m,o)))},{immediate:!0,flush:"post"}),p=()=>r==null?void 0:r.takeRecords(),u=()=>{c(),d()};return R(u),{isSupported:l,stop:u,takeRecords:p}}function $(e,t={}){const{window:n=b}=t,i=Y(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let o;const r=k(!1),l=d=>{r.value=d.matches},c=()=>{o&&("removeEventListener"in o?o.removeEventListener("change",l):o.removeListener(l))},a=le(()=>{i.value&&(c(),o=n.matchMedia(C(e)),"addEventListener"in o?o.addEventListener("change",l):o.addListener(l),r.value=o.matches)});return R(()=>{a(),c(),o=void 0}),r}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I="__vueuse_ssr_handlers__",be=Oe();function Oe(){return I in F||(F[I]=F[I]||{}),F[I]}function X(e,t){return be[e]||t}function Ee(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ae={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function Z(e,t,n,i={}){var o;const{flush:r="pre",deep:l=!0,listenToStorageChanges:c=!0,writeDefaults:a=!0,mergeDefaults:d=!1,shallow:p,window:u=b,eventFilter:f,onError:m=s=>{console.error(s)},initOnMounted:y}=i,g=(p?ue:k)(typeof t=="function"?t():t);if(!n)try{n=X("getDefaultStorage",()=>{var s;return(s=b)==null?void 0:s.localStorage})()}catch(s){m(s)}if(!n)return g;const S=C(t),_=Ee(S),O=(o=i.serializer)!=null?o:Ae[_],{pause:D,resume:h}=ve(g,()=>W(g.value),{flush:r,deep:l,eventFilter:f});u&&c&&V(()=>{j(u,"storage",w),j(u,H,L),y&&w()}),y||w();function E(s,v){u&&u.dispatchEvent(new CustomEvent(H,{detail:{key:e,oldValue:s,newValue:v,storageArea:n}}))}function W(s){try{const v=n.getItem(e);if(s==null)E(v,null),n.removeItem(e);else{const A=O.write(s);v!==A&&(n.setItem(e,A),E(v,A))}}catch(v){m(v)}}function T(s){const v=s?s.newValue:n.getItem(e);if(v==null)return a&&S!=null&&n.setItem(e,O.write(S)),S;if(!s&&d){const A=O.read(v);return typeof d=="function"?d(A,S):_==="object"&&!Array.isArray(A)?{...S,...A}:A}else return typeof v!="string"?v:O.read(v)}function w(s){if(!(s&&s.storageArea!==n)){if(s&&s.key==null){g.value=S;return}if(!(s&&s.key!==e)){D();try{(s==null?void 0:s.newValue)!==O.write(g.value)&&(g.value=T(s))}catch(v){m(v)}finally{s?B(h):h()}}}}function L(s){w(s.detail)}return g}function ee(e){return $("(prefers-color-scheme: dark)",e)}function ke(e={}){const{selector:t="html",attribute:n="class",initialValue:i="auto",window:o=b,storage:r,storageKey:l="vueuse-color-scheme",listenToStorageChanges:c=!0,storageRef:a,emitAuto:d,disableTransition:p=!0}=e,u={auto:"",light:"light",dark:"dark",...e.modes||{}},f=ee({window:o}),m=M(()=>f.value?"dark":"light"),y=a||(l==null?Q(i):Z(l,i,r,{window:o,listenToStorageChanges:c})),g=M(()=>y.value==="auto"?m.value:y.value),S=X("updateHTMLAttrs",(h,E,W)=>{const T=typeof h=="string"?o==null?void 0:o.document.querySelector(h):z(h);if(!T)return;let w;if(p){w=o.document.createElement("style");const L="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";w.appendChild(document.createTextNode(L)),o.document.head.appendChild(w)}if(E==="class"){const L=W.split(/\s/g);Object.values(u).flatMap(s=>(s||"").split(/\s/g)).filter(Boolean).forEach(s=>{L.includes(s)?T.classList.add(s):T.classList.remove(s)})}else T.setAttribute(E,W);p&&(o.getComputedStyle(w).opacity,document.head.removeChild(w))});function _(h){var E;S(t,n,(E=u[h])!=null?E:h)}function O(h){e.onChanged?e.onChanged(h,_):_(h)}N(g,O,{flush:"post",immediate:!0}),V(()=>O(g.value));const D=M({get(){return d?y.value:g.value},set(h){y.value=h}});try{return Object.assign(D,{store:y,system:m,state:g})}catch{return D}}function Te(e={}){const{valueDark:t="dark",valueLight:n="",window:i=b}=e,o=ke({...e,onChanged:(c,a)=>{var d;e.onChanged?(d=e.onChanged)==null||d.call(e,c==="dark",a,c):a(c)},modes:{dark:t,light:n}}),r=M(()=>o.system?o.system.value:ee({window:i}).value?"dark":"light");return M({get(){return o.value==="dark"},set(c){const a=c?"dark":"light";r.value===a?o.value="auto":o.value=a}})}function Ne(e,t,n={}){const{window:i=b}=n;return Z(e,t,i==null?void 0:i.localStorage,n)}function _e(e=null,t={}){var n,i,o;const{document:r=ye,restoreOnUnmount:l=u=>u}=t,c=(n=r==null?void 0:r.title)!=null?n:"",a=Q((i=e??(r==null?void 0:r.title))!=null?i:null),d=e&&typeof e=="function";function p(u){if(!("titleTemplate"in t))return u;const f=t.titleTemplate||"%s";return typeof f=="function"?f(u):C(f).replace(/%s/g,u)}return N(a,(u,f)=>{u!==f&&r&&(r.title=p(typeof u=="string"?u:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&r&&!d&&Se((o=r.head)==null?void 0:o.querySelector("title"),()=>{r&&r.title!==a.value&&(a.value=p(r.title))},{childList:!0}),ge(()=>{if(l){const u=l(c,a.value||"");u!=null&&r&&(r.title=u)}}),a}function Le(e={}){const{window:t=b,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:i=Number.POSITIVE_INFINITY,listenOrientation:o=!0,includeScrollbar:r=!0}=e,l=k(n),c=k(i),a=()=>{t&&(r?(l.value=t.innerWidth,c.value=t.innerHeight):(l.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight))};if(a(),V(a),j("resize",a,{passive:!0}),o){const d=$("(orientation: portrait)");N(d,()=>a())}return{width:l,height:c}}export{Me as a,Le as b,ke as c,_e as d,Ne as e,Te as u};
