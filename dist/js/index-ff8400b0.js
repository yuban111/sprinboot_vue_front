import{_ as x}from"./index-167a1727.js";import{g as D,e as L}from"./element-plus-28eabd23.js";import{_ as E}from"./index-5239cda9.js";import{h as $,w as M}from"./index-5de9982a.js";import{A as B}from"./index-43be5654.js";import{u as Y}from"./vue-router-3c7b10bc.js";import{d as V}from"./dayjs-6997e6a6.js";import{d as j,e as _,f as Q,w as R,al as S,o as a,c as s,U as m,M as f,u as r,a as o,K as y,aj as g,J as b,Q as u,R as T,D as z}from"./@vue-293b3db8.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import"./lodash-es-327b7962.js";import"./@element-plus-51afdc8f.js";import"./async-validator-dee29e8b.js";import"./@ctrl-f8748455.js";import"./@popperjs-c75af06c.js";import"./@vueuse-9d87eeea.js";import"./pinia-b73abff6.js";import"./vue-demi-71ba0ef2.js";import"./axios-b5ee139b.js";import"./nprogress-b52be870.js";import"./copy-to-clipboard-55affb02.js";import"./toggle-selection-93f4ad84.js";import"./@codemirror-b3ba2dcc.js";import"./@lezer-5d82abd9.js";import"./crelt-7bb88e1d.js";import"./@marijn-45184d7f.js";import"./style-mod-ab9c37a6.js";import"./w3c-keyname-9fb136d3.js";function I(){return $.get("/category/list",{method:"get"})}const J={key:0,class:"category_container"},K={class:"item_container"},U=["onClick"],q={key:1,class:"category_container"},G={class:"title"},H={class:"scrollbar-flex-content"},O=["onClick"],P=j({__name:"index",setup(W){const n=Y(),c=_([]),p=_([]),l=_(!1),v=_("");Q(async()=>{await I().then(e=>{e.code===200&&(c.value=e.data)}),n.params.id&&(l.value=!0,c.value.forEach(e=>{e.id===Number(n.params.id)?(e.isActive=!0,v.value=e.categoryName):e.isActive=!1}),h(n.params.id))}),R(()=>n.params.id,e=>{e?(l.value=!0,c.value.forEach(t=>{t.id===Number(n.params.id)?(t.isActive=!0,v.value=t.categoryName):t.isActive=!1}),h(e)):l.value=!1});function h(e){M(1,e).then(t=>{t.code===200&&t.data!==void 0?(t.data.forEach(d=>{d.createTime=V(d.createTime).format("YYYY-MM-DD")}),p.value=t.data):p.value=[]})}return(e,t)=>{const d=E,k=D,A=L,C=x,N=S("slide-in");return a(),s("div",null,[m(C,{"only-father-container":""},{banner:f(()=>[m(d,{title:"分类",subtitle:"category"})]),content:f(()=>[r(l)?b("",!0):(a(),s("div",J,[t[0]||(t[0]=o("div",{class:"title"}," 文章分类 ",-1)),o("div",K,[(a(!0),s(y,null,g(r(c),i=>T((a(),s("div",{key:i.id,class:"item",onClick:w=>e.$router.push(`/category/${i.id}`)},[o("div",null,u(i.categoryName),1),o("div",null,[o("span",null,u(i.articleCount),1)])],8,U)),[[N]])),128))])])),r(l)?(a(),s("div",q,[o("div",G,u(r(v)),1),o("div",null,[m(k,null,{default:f(()=>[o("div",H,[(a(!0),s(y,null,g(r(c),i=>(a(),s("p",{key:i.id,onClick:w=>e.$router.push(`/category/${i.id}`),class:z(["scrollbar-item",i.isActive?"active":""])},u(i.categoryName),11,O))),128))])]),_:1})]),m(A),m(B,{articleList:r(p)},null,8,["articleList"])])):b("",!0)]),_:1})])}}});const we=F(P,[["__scopeId","data-v-3eec76b7"]]);export{we as default};
