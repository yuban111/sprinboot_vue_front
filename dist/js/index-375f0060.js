import{m as q,D as Te,F as $e,G as Se,E as B,H as Ie,p as Ve,r as ze,I as Le,c as Re,k as te,s as se,h as ne,t as oe,J as le,K as ie,l as Me}from"./element-plus-28eabd23.js";import{N as ae,O as re,P as de,Q as me,R as ue,S as ce,T as _e,U as fe,V as G,W as ve,X as Ae,y as pe,B as Ne,l as De,a as j,Y as ee,Z as ge,_ as he}from"./@element-plus-51afdc8f.js";import{d as K,o as h,c as y,U as e,M as n,u as l,a3 as k,L as ye,J as F,e as L,f as W,w as Ue,m as Xe,a as t,am as Oe,P as Be,K as U,aj as P,Q as S,G as Fe,ad as be,D as Ye}from"./@vue-293b3db8.js";import{u as ke,p as Pe,s as He,r as C,_ as H,f as we,q as Ee,R as xe,t as qe,S as Ke}from"./index-5de9982a.js";import{e as Ge,c as J}from"./@vueuse-9d87eeea.js";import{b as je}from"./index-f98d026c.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";import{u as We}from"./vue-router-3c7b10bc.js";const Je=K({__name:"index",emits:"update:closeDrawer",setup(D,{emit:g}){const $=g;function u(){$("update:closeDrawer")}const i={VITE_APP_BASE_API:"/api",VITE_SERVE:"",VITE_FRONTEND_URL:"",VITE_MUSIC_BASE_API:"/wapi",VITE_MUSIC_SERVE:"",VITE_MUSIC_FRONTEND_URL:"",VITE_YIYAN_API:"",VITE_ENABLE_DEV_TOOLSBLOCKER:"true",VITE_USER_NODE_ENV:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};return(_,r)=>{const s=q,b=Te,c=$e,a=Se;return h(),y("div",null,[e(a,{router:"",style:{width:"100%",border:"none"},class:"menu"},{default:n(()=>[e(b,{index:"/",class:"index",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(ae))]),_:1}),r[0]||(r[0]=k(" 首页 ",-1))]),_:1}),e(c,{index:"2"},{title:n(()=>[e(s,null,{default:n(()=>[e(l(re))]),_:1}),r[1]||(r[1]=k(" 归档 ",-1))]),default:n(()=>[e(b,{index:"/timeline",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(de))]),_:1}),r[2]||(r[2]=k(" 时间轴 ",-1))]),_:1}),e(b,{index:"/category",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(me))]),_:1}),r[3]||(r[3]=k(" 分类 ",-1))]),_:1}),e(b,{index:"/tags",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(ue))]),_:1}),r[4]||(r[4]=k(" 标签 ",-1))]),_:1})]),_:1}),e(c,{index:"3"},{title:n(()=>[e(s,null,{default:n(()=>[e(l(ce))]),_:1}),r[5]||(r[5]=k(" 其他 ",-1))]),default:n(()=>[e(b,{index:"/tree-hole",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(_e))]),_:1}),r[6]||(r[6]=k(" 树洞 ",-1))]),_:1}),e(b,{index:"/message",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(fe))]),_:1}),r[7]||(r[7]=k(" 留言板 ",-1))]),_:1})]),_:1}),e(b,{index:"/link",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(G))]),_:1}),r[8]||(r[8]=k(" 友链 ",-1))]),_:1}),l(i).VITE_MUSIC_FRONTEND_URL?(h(),ye(b,{key:0,index:"/music"},{default:n(()=>[e(s,null,{default:n(()=>[e(l(ve))]),_:1}),r[9]||(r[9]=k(" 音乐 ",-1))]),_:1})):F("",!0),e(b,{index:"/about",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(Ae))]),_:1}),r[10]||(r[10]=k(" 关于 ",-1))]),_:1}),e(b,{index:"/photo",onClick:u},{default:n(()=>[e(s,null,{default:n(()=>[e(l(pe))]),_:1}),r[11]||(r[11]=k(" 相册 ",-1))]),_:1})]),_:1})])}}}),Qe={class:"content_container"},Ze={class:"search"},et={style:{width:"0"}},tt={class:"custom-style"},st={key:0,class:"search_history"},nt={class:"header_history"},ot={class:"header_history"},lt={class:"recommend_container"},it=["onClick"],at={key:0,style:{"text-align":"center","padding-top":"2rem"}},rt={style:{"font-size":"12px",color:"grey"}},dt={class:"search_result"},mt=["onMousedown"],ut={class:"search_result_item"},ct=["innerHTML"],_t={class:"text-xs mt-1 dark:text-[#A3A3A3] p-1"},ft={class:"flex space-x-2 text-xs text-[#475569] items-center justify-center"},vt=["onMousedown"],pt={class:"search_result_item"},gt=["innerHTML"],ht={class:"text-xs mt-1 dark:text-[#A3A3A3] p-1 flex"},yt=["innerHTML"],bt={class:"flex space-x-2 text-xs text-[#475569] items-center justify-center"},kt=K({__name:"index",emits:["isShowSearch"],setup(D,{emit:g}){const $=g,u=ke(),i=L("");function _(E,f=!1){i.value&&r.value==="内容"&&(console.log(f),f||a.value.push(i.value),He(i.value).then(x=>{var p;if(x.code===1004){B.error(x.msg);return}c.value=x.data,c.value=(p=c.value)==null?void 0:p.map(z=>{const M=new RegExp(`(${i.value})`,"gi"),R=z.articleContent.replace(M,'<span class="highlight">$1</span>');return{...z,articleContent:R}})}))}const r=L("标题"),s=["标题","内容"],b=L(!0),c=L(),a=Ge("searchHistoryList",[]),T=L(null),m=L();W(()=>{V()});async function I(){i.value&&r.value==="标题"&&!u.searchTitle&&await u.getArticleTitleList(),b.value=!1}Ue(r,()=>{c.value=[],i.value=""}),Xe(async()=>{var E;if(i.value||(c.value=[]),i.value&&r.value==="标题"){u.searchTitle||await u.getArticleTitleList();const f=i.value.toLowerCase();c.value=(E=u.searchTitle)==null?void 0:E.filter(x=>x.articleTitle.toLowerCase().includes(f)).map(x=>{const p=new RegExp(`(${f})`,"gi"),z=x.articleTitle.replace(p,'<span class="highlight">$1</span>');return{...x,highlightedTitle:z}})}});function w(){b.value=!0}function o(E){i.value&&r.value==="标题"&&a.value.push(i.value),i.value="",C.push("/article/"+E),$("isShowSearch")}function A(){a.value=[]}function N(E){var f;i.value=E,(f=T.value)==null||f.focus(),I(),i.value&&r.value==="内容"&&_("",!0)}function V(){Pe().then(E=>{m.value=E.data})}function v(){je().then(E=>{m.value=E.data})}return(E,f)=>{var O;const x=H,p=Ie,z=Ve,M=ze,R=q,Y=Le,X=Re;return h(),y("div",Qe,[t("div",Ze,[e(M,{onSubmit:f[2]||(f[2]=Be(()=>{},["prevent"]))},{default:n(()=>[e(z,{ref_key:"inputRef",ref:T,placeholder:r.value==="标题"?"请输入搜索内容":"回车进行内容搜索",modelValue:i.value,"onUpdate:modelValue":f[1]||(f[1]=d=>i.value=d),"prefix-icon":"el-icon-search",onKeyup:Oe(_,["enter","native"]),onFocus:I,onBlur:w},{prefix:n(()=>[t("div",et,[e(x,{name:"search",width:"20",height:"20"})])]),suffix:n(()=>[t("div",tt,[e(p,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=d=>r.value=d),options:s,size:"small"},null,8,["modelValue"])])]),_:1},8,["placeholder","modelValue"])]),_:1})]),b.value?(h(),y("div",st,[t("div",nt,[f[4]||(f[4]=t("div",null," 搜索历史 ",-1)),t("div",{class:"event_history",onClick:A},[e(R,null,{default:n(()=>[e(l(Ne))]),_:1}),f[3]||(f[3]=t("span",null,"清除记录",-1))])]),t("div",null,[(h(!0),y(U,null,P(l(a),d=>(h(),ye(Y,{type:"primary",style:{margin:"5px"},key:d,checked:"",onClick:Z=>N(d)},{default:n(()=>[k(S(d),1)]),_:2},1032,["onClick"]))),128))]),t("div",ot,[f[6]||(f[6]=t("div",null," 热门推荐 ",-1)),t("div",{class:"event_history",onClick:v},[e(R,null,{default:n(()=>[e(l(De))]),_:1}),f[5]||(f[5]=t("span",null,"换一换",-1))])]),t("div",lt,[(h(!0),y(U,null,P(m.value,d=>(h(),y("div",{class:"item",key:d.id,onClick:()=>{$("isShowSearch"),E.$router.push("/article/"+d.id)}},[k(S(d.articleTitle)+" ",1),t("div",null,[e(x,{name:"heat"}),t("span",null,S(d.visitCount),1)])],8,it))),128))])])):(h(),y(U,{key:1},[((O=c.value)==null?void 0:O.length)===0?(h(),y("div",at,[t("span",rt,S(r.value==="标题"?"请输入要搜索的内容":"内容搜索每分钟只能搜索5次"),1)])):F("",!0),t("div",dt,[i.value&&r.value==="标题"?(h(!0),y(U,{key:0},P(c.value,d=>(h(),y("div",{key:d.id,onMousedown:Z=>o(d.id)},[t("div",ut,[t("div",null,[t("div",{innerHTML:d.highlightedTitle},null,8,ct),t("div",_t,[e(X,{size:"small",class:"mr-2"},{default:n(()=>[k(S(d.categoryName),1)]),_:2},1024)])]),t("div",ft,[e(x,{name:"heat"}),t("span",null,S(d.visitCount),1)])])],40,mt))),128)):F("",!0),i.value&&r.value==="内容"?(h(!0),y(U,{key:1},P(c.value,d=>(h(),y("div",{key:d.id,onMousedown:Z=>o(d.id)},[t("div",pt,[t("div",null,[t("div",{innerHTML:d.articleTitle},null,8,gt),t("div",ht,[t("div",null,[e(X,{size:"small",class:"mr-2"},{default:n(()=>[k(S(d.categoryName),1)]),_:2},1024)]),t("div",{innerHTML:d.articleContent},null,8,yt)])]),t("div",bt,[e(x,{name:"heat"}),t("span",null,S(d.visitCount),1)])])],40,vt))),128)):F("",!0)])],64))])}}});const Ce=Q(kt,[["__scopeId","data-v-16a25a50"]]),wt={class:"search_dialog_container"},Et={style:{display:"flex","justify-content":"space-between","align-items":"center"}},xt={id:"menu-left"},Ct={id:"menus"},Tt={id:"blog-info"},$t={href:"/"},St={class:"menus_items"},It={class:"menus_item"},Vt={class:"menus_item_child"},zt={class:"menus_item"},Lt={class:"menus_item_child"},Rt={id:"menu-right"},Mt={style:{"margin-right":"4.5rem","margin-top":"-0.2rem"}},At={id:"search-button"},Nt={class:"user-info"},Dt={key:0},Ut={key:1,style:{display:"flex"}},Xt={class:"profile"},Ot={style:{"font-size":"15px","font-weight":"bold",color:"black"}},Bt={key:0,style:{"font-size":"14px",color:"#363636","margin-top":"3px"}},Ft={key:1,style:{"font-size":"14px",color:"#363636","margin-top":"3px"}},Yt=K({__name:"index",setup(D){const g=we(),$=ke(),u=J(),i=L(!1),_=()=>{Ee().then(w=>{w.code===200&&(xe(),g.userInfo=void 0,B.success("退出登录成功"),C.push("/"))})};function r({detail:w}){u.value=w}const s={VITE_APP_BASE_API:"/api",VITE_SERVE:"",VITE_FRONTEND_URL:"",VITE_MUSIC_BASE_API:"/wapi",VITE_MUSIC_SERVE:"",VITE_MUSIC_FRONTEND_URL:"",VITE_YIYAN_API:"",VITE_ENABLE_DEV_TOOLSBLOCKER:"true",VITE_USER_NODE_ENV:"production",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},b=L(!0),c=L(!0);let a=0,T;const m=()=>{const w=window.pageYOffset||document.documentElement.scrollTop;b.value=w<=a,c.value=w===0,a=w<=0?0:w},I=()=>{T&&clearTimeout(T),T=window.setTimeout(()=>{const w=window.pageYOffset||document.documentElement.scrollTop;c.value=w===0},100)};return W(()=>{window.addEventListener("scroll",m),window.addEventListener("scroll",I)}),Fe(()=>{window.removeEventListener("scroll",m),window.removeEventListener("scroll",I)}),(w,o)=>{var M,R,Y,X,O;const A=te,N=Ce,V=se,v=q,E=be("toggle-button"),f=ne,x=oe,p=le,z=ie;return h(),y(U,null,[t("div",wt,[e(V,{modelValue:i.value,"onUpdate:modelValue":o[2]||(o[2]=d=>i.value=d),"show-close":!1,"close-on-click-modal":!1,"lock-scroll":!0},{header:n(()=>[t("div",Et,[o[16]||(o[16]=t("span",{style:{"font-size":"1.2rem"}},"搜索",-1)),e(A,{icon:l(j),style:{background:"none","font-size":"1.5rem",width:"30px",border:"none"},onClick:o[0]||(o[0]=d=>i.value=!1)},null,8,["icon"])])]),default:n(()=>[e(N,{onIsShowSearch:o[1]||(o[1]=d=>i.value=!1)})]),_:1},8,["modelValue"])]),t("nav",{class:Ye({hidden:!b.value,transparent:c.value})},[t("div",xt,[t("div",Ct,[t("span",Tt,[t("a",$t,S((M=l($).webInfo)==null?void 0:M.websiteName),1)]),t("div",St,[t("div",{class:"menus_item",onClick:o[3]||(o[3]=d=>l(C).push("/"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(ae))]),_:1}),o[17]||(o[17]=t("span",null,"首页",-1))])]),t("div",It,[t("span",null,[e(v,null,{default:n(()=>[e(l(re))]),_:1}),o[18]||(o[18]=t("span",null,"归档",-1)),e(v,{class:"arrow"},{default:n(()=>[e(l(ee))]),_:1})]),t("ul",Vt,[t("li",{onClick:o[4]||(o[4]=d=>l(C).push("/category"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(me))]),_:1}),o[19]||(o[19]=t("span",null,"分类",-1))])]),t("li",{onClick:o[5]||(o[5]=d=>l(C).push("/tags"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(ue))]),_:1}),o[20]||(o[20]=t("span",null,"标签",-1))])]),t("li",{onClick:o[6]||(o[6]=d=>l(C).push("/timeline"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(de))]),_:1}),o[21]||(o[21]=t("span",null,"时间轴",-1))])])])]),t("div",zt,[t("span",null,[e(v,null,{default:n(()=>[e(l(ce))]),_:1}),o[22]||(o[22]=t("span",null,"其他",-1)),e(v,{class:"arrow"},{default:n(()=>[e(l(ee))]),_:1})]),t("ul",Lt,[t("li",{onClick:o[7]||(o[7]=d=>l(C).push("/tree-hole"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(_e))]),_:1}),o[23]||(o[23]=t("span",null,"树洞",-1))])]),t("li",{onClick:o[8]||(o[8]=d=>l(C).push("/message"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(fe))]),_:1}),o[24]||(o[24]=t("span",null,"留言板",-1))])]),t("li",{onClick:o[9]||(o[9]=d=>l(C).push("/about"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(G))]),_:1}),o[25]||(o[25]=t("span",null,"关于",-1))])])])]),t("div",{class:"menus_item",onClick:o[10]||(o[10]=d=>l(C).push("/link"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(G))]),_:1}),o[26]||(o[26]=t("span",null,"友链",-1))])]),l(s).VITE_MUSIC_FRONTEND_URL?(h(),y("div",{key:0,class:"menus_item",onClick:o[11]||(o[11]=d=>l(C).push("/music"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(ve))]),_:1}),o[27]||(o[27]=t("span",null,"音乐",-1))])])):F("",!0),t("div",{class:"menus_item",onClick:o[12]||(o[12]=d=>l(C).push("/photo"))},[t("span",null,[e(v,null,{default:n(()=>[e(l(pe))]),_:1}),o[28]||(o[28]=t("span",null,"相册",-1))])])])])]),t("div",Rt,[t("div",Mt,[e(E,{onChange:r,size:"1"})]),t("div",At,[t("div",{class:"search",onClick:o[13]||(o[13]=d=>i.value=!0)},[e(H,{name:"search",width:"30",height:"30",color:"#409EFF",class:"icon"})])]),t("div",Nt,[l(g).userInfo?(h(),y("div",Ut,[t("div",Xt,[t("div",Ot,S((R=l(g).userInfo)==null?void 0:R.username),1),((Y=l(g).userInfo)==null?void 0:Y.registerType)===0?(h(),y("div",Bt,S((X=l(g).userInfo)==null?void 0:X.email),1)):(h(),y("div",Ft,S(((O=l(g).userInfo)==null?void 0:O.registerType)===1?"Gitee登录":"Github登录"),1))]),e(z,null,{dropdown:n(()=>[e(p,{onClick:o[15]||(o[15]=d=>l(C).push("/setting"))},{default:n(()=>[e(v,null,{default:n(()=>[e(l(ge))]),_:1}),o[30]||(o[30]=k(" 个人设置 ",-1))]),_:1}),e(p,{onClick:_},{default:n(()=>[e(v,null,{default:n(()=>[e(l(he))]),_:1}),o[31]||(o[31]=k(" 退出登录 ",-1))]),_:1})]),default:n(()=>{var d;return[e(f,{style:{"margin-right":"3rem"},src:(d=l(g).userInfo)==null?void 0:d.avatar},null,8,["src"])]}),_:1})])):(h(),y("div",Dt,[e(x,{class:"box-item",effect:"light",content:"点击去登录",placement:"right"},{default:n(()=>[e(f,{onClick:o[14]||(o[14]=d=>w.$router.push("/welcome")),style:{"margin-right":"3rem"}},{default:n(()=>[...o[29]||(o[29]=[k("登录",-1)])]),_:1})]),_:1})]))])])],2)],64)}}});const Pt=Q(Yt,[["__scopeId","data-v-8fe73b06"]]),Ht=J(),qt=(D,g,$)=>{const u=V=>{let v=D.querySelectorAll(V);return v.length==1?v[0]:v};let i=u(".main-button"),_=u(".daytime-backgrond"),r=u(".cloud"),s=u(".cloud-son"),b=u(".cloud-light"),c=u(".components"),a=u(".moon"),T=u(".stars"),m=u(".star"),I=!1,w=!1;c.onclick=()=>{I?(i.style.transform="translateX(0)",i.style.backgroundColor="rgba(255, 195, 35,1)",i.style.boxShadow="3em 3em 5em rgba(0, 0, 0, 0.5), inset  -3em -5em 3em -3em rgba(0, 0, 0, 0.5), inset  4em 5em 2em -2em rgba(255, 230, 80,1)",_[0].style.transform="translateX(0)",_[1].style.transform="translateX(0)",_[2].style.transform="translateX(0)",r.style.transform="translateY(10em)",b.style.transform="translateY(10em)",c.style.backgroundColor="rgba(70, 133, 192,1)",a[0].style.opacity="0",a[1].style.opacity="0",a[2].style.opacity="0",T.style.transform="translateY(-125em)",T.style.opacity="0",$("light")):(i.style.transform="translateX(110em)",i.style.backgroundColor="rgba(195, 200,210,1)",i.style.boxShadow="3em 3em 5em rgba(0, 0, 0, 0.5), inset  -3em -5em 3em -3em rgba(0, 0, 0, 0.5), inset  4em 5em 2em -2em rgba(255, 255, 210,1)",_[0].style.transform="translateX(110em)",_[1].style.transform="translateX(80em)",_[2].style.transform="translateX(50em)",r.style.transform="translateY(80em)",b.style.transform="translateY(80em)",c.style.backgroundColor="rgba(25,30,50,1)",a[0].style.opacity="1",a[1].style.opacity="1",a[2].style.opacity="1",T.style.transform="translateY(-62.5em)",T.style.opacity="1",$("dark")),w=!0,setTimeout(function(){w=!1},500),I=!I},i.addEventListener("mousemove",function(){w||(I?(i.style.transform="translateX(100em)",_[0].style.transform="translateX(100em)",_[1].style.transform="translateX(73em)",_[2].style.transform="translateX(46em)",m[0].style.top="10em",m[0].style.left="36em",m[1].style.top="40em",m[1].style.left="87em",m[2].style.top="26em",m[2].style.left="16em",m[3].style.top="38em",m[3].style.left="63em",m[4].style.top="20.5em",m[4].style.left="72em",m[5].style.top="51.5em",m[5].style.left="35em"):(i.style.transform="translateX(10em)",_[0].style.transform="translateX(10em)",_[1].style.transform="translateX(7em)",_[2].style.transform="translateX(4em)",s[0].style.right="-24em",s[0].style.bottom="10em",s[1].style.right="-12em",s[1].style.bottom="-27em",s[2].style.right="17em",s[2].style.bottom="-43em",s[3].style.right="46em",s[3].style.bottom="-39em",s[4].style.right="70em",s[4].style.bottom="-65em",s[5].style.right="109em",s[5].style.bottom="-54em",s[6].style.right="-23em",s[6].style.bottom="10em",s[7].style.right="-11em",s[7].style.bottom="-26em",s[8].style.right="18em",s[8].style.bottom="-42em",s[9].style.right="47em",s[9].style.bottom="-38em",s[10].style.right="74em",s[10].style.bottom="-64em",s[11].style.right="110em",s[11].style.bottom="-55em"))}),i.addEventListener("mouseout",function(){w||(I?(i.style.transform="translateX(110em)",_[0].style.transform="translateX(110em)",_[1].style.transform="translateX(80em)",_[2].style.transform="translateX(50em)",m[0].style.top="11em",m[0].style.left="39em",m[1].style.top="39em",m[1].style.left="91em",m[2].style.top="26em",m[2].style.left="19em",m[3].style.top="37em",m[3].style.left="66em",m[4].style.top="21em",m[4].style.left="75em",m[5].style.top="51em",m[5].style.left="38em"):(i.style.transform="translateX(0em)",_[0].style.transform="translateX(0em)",_[1].style.transform="translateX(0em)",_[2].style.transform="translateX(0em)",s[0].style.right="-20em",s[0].style.bottom="10em",s[1].style.right="-10em",s[1].style.bottom="-25em",s[2].style.right="20em",s[2].style.bottom="-40em",s[3].style.right="50em",s[3].style.bottom="-35em",s[4].style.right="75em",s[4].style.bottom="-60em",s[5].style.right="110em",s[5].style.bottom="-50em",s[6].style.right="-20em",s[6].style.bottom="10em",s[7].style.right="-10em",s[7].style.bottom="-25em",s[8].style.right="20em",s[8].style.bottom="-40em",s[9].style.right="50em",s[9].style.bottom="-35em",s[10].style.right="75em",s[10].style.bottom="-60em",s[11].style.right="110em",s[11].style.bottom="-50em"))});const o=()=>{const V=["2em","-2em"];return V[Math.floor(Math.random()*V.length)]},A=V=>{const v=o(),E=o();V.style.transform=`translate(${v}, ${E})`},N=D.querySelectorAll(".cloud-son");setInterval(()=>{N.forEach(A)},1e3),g==="dark"&&c.onclick()};class Kt extends HTMLElement{constructor(){super();const g=this.getAttribute("value")||Ht.value,$=+this.getAttribute("size")||1,u=this.attachShadow({mode:"closed"}),i=document.createElement("div");i.setAttribute("class","container"),i.setAttribute("style",`font-size: ${($/3).toFixed(2)}px`),i.innerHTML='<div class="components"><div class="main-button"><div class="moon"></div><div class="moon"></div><div class="moon"></div></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="daytime-backgrond"></div><div class="cloud"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="cloud-light"><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div><div class="cloud-son"></div></div><div class="stars"><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star big"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star medium"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div><div class="star small"><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div><div class="star-son"></div></div></div></div>';const _=document.createElement("style");_.textContent="* { margin: 0; padding: 0; transition: 0.7s; } .container { position: absolute;top: 50%;margin-top: -35em;margin-left: -90em;width: 180em; height: 70em; display: inline-block; vertical-align: bottom; transform: translate3d(0, 0, 0); } .components{ position:fixed; width: 180em; height: 70em; background-color: rgba(70, 133, 192,1); border-radius: 100em; box-shadow: inset 0 0 5em 3em rgba(0, 0, 0, 0.5); overflow: hidden; transition: 0.7s; transition-timing-function: cubic-bezier( 0,0.5, 1,1); cursor: pointer; } .main-button{ margin: 7.5em 0 0 7.5em; width: 55em; height:55em; background-color: rgba(255, 195, 35,1); border-radius: 50%; box-shadow:3em 3em 5em rgba(0, 0, 0, 0.5), inset -3em -5em 3em -3em rgba(0, 0, 0, 0.5), inset 4em 5em 2em -2em rgba(255, 230, 80,1); transition: 1.0s; transition-timing-function: cubic-bezier(0.56, 1.35, 0.52, 1.00); } .moon{ position: absolute; background-color: rgba(150, 160, 180, 1); box-shadow:inset 0em 0em 1em 1em rgba(0, 0, 0, 0.3) ; border-radius: 50%; transition: 0.5s; opacity: 0; } .moon:nth-child(1){ top: 7.5em; left: 25em; width: 12.5em; height: 12.5em; } .moon:nth-child(2){ top: 20em; left: 7.5em; width: 20em; height: 20em; } .moon:nth-child(3){ top: 32.5em; left: 32.5em; width: 12.5em; height: 12.5em; } .daytime-backgrond { position: absolute; border-radius: 50%; transition: 1.0s; transition-timing-function: cubic-bezier(0.56, 1.35, 0.52, 1.00); } .daytime-backgrond:nth-child(2){ top: -20em; left: -20em; width: 110em; height:110em; background-color: rgba(255, 255, 255,0.2); z-index: -2; } .daytime-backgrond:nth-child(3){ top: -32.5em; left: -17.5em; width: 135em; height:135em; background-color: rgba(255, 255, 255,0.1); z-index: -3; } .daytime-backgrond:nth-child(4){ top: -45em; left: -15em; width: 160em; height:160em; background-color: rgba(255, 255, 255,0.05); z-index: -4; } .cloud,.cloud-light{ transform: translateY(10em); transition: 1.0s; transition-timing-function: cubic-bezier(0.56, 1.35, 0.52, 1.00); } .cloud-son{ position: absolute; background-color: #fff; border-radius: 50%; z-index: -1; transition: transform 6s,right 1s,bottom 1s; } .cloud-son:nth-child(6n+1){ right: -20em; bottom: 10em; width: 50em; height: 50em; } .cloud-son:nth-child(6n+2) { right: -10em; bottom: -25em; width: 60em; height: 60em; } .cloud-son:nth-child(6n+3) { right: 20em; bottom: -40em; width: 60em; height: 60em; } .cloud-son:nth-child(6n+4) { right: 50em; bottom: -35em; width: 60em; height: 60em; } .cloud-son:nth-child(6n+5) { right: 75em; bottom: -60em; width: 75em; height: 75em; } .cloud-son:nth-child(6n+6) { right: 110em; bottom: -50em; width: 60em; height: 60em; } .cloud{ z-index: -2; } .cloud-light{ position: absolute; right: 0em; bottom: 25em; opacity: 0.5; z-index: -3; /*transform: rotate(-5deg);*/ } .stars{ transform: translateY(-125em); z-index: -2; transition: 1.0s; transition-timing-function: cubic-bezier(0.56, 1.35, 0.52, 1.00); } .big { --size: 7.5em; } .medium { --size: 5em; } .small { --size: 3em; } .star { position: absolute; width: calc(2*var(--size)); height: calc(2*var(--size)); } .star:nth-child(1){ top: 11em; left: 39em; animation-name: star; animation-duration: 3.5s; } .star:nth-child(2){ top: 39em; left: 91em; animation-name: star; animation-duration: 4.1s; } .star:nth-child(3){ top: 26em; left: 19em; animation-name: star; animation-duration: 4.9s; } .star:nth-child(4){ top: 37em; left: 66em; animation-name: star; animation-duration: 5.3s; } .star:nth-child(5){ top: 21em; left: 75em; animation-name: star; animation-duration: 3s; } .star:nth-child(6){ top: 51em; left: 38em; animation-name: star; animation-duration: 2.2s; } @keyframes star { 0%,20%{ transform: scale(0); } 20%,100% { transform: scale(1); } } .star-son{ float: left; } .star-son:nth-child(1) { --pos: left 0; } .star-son:nth-child(2) { --pos: right 0; } .star-son:nth-child(3) { --pos: 0 bottom; } .star-son:nth-child(4) { --pos: right bottom; } .star-son { width: var(--size); height: var(--size); background-image: radial-gradient(circle var(--size) at var(--pos), transparent var(--size), #fff); } .star{ transform: scale(1); transition-timing-function: cubic-bezier(0.56, 1.35, 0.52, 1.00); transition: 1s; animation-iteration-count:infinite; animation-direction: alternate; animation-timing-function: linear; } .twinkle { transform: scale(0); }",qt(i,g,s=>{this.dispatchEvent(new CustomEvent("change",{detail:s}))}),u.appendChild(_),u.appendChild(i)}}const Gt={class:"search_dialog_container"},jt={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Wt={class:"menu"},Jt={class:"move_nav",style:{"margin-left":"1.5rem"}},Qt={style:{"margin-left":"5rem"}},Zt={class:"right_nav"},es={class:"user-info"},ts={key:0},ss={key:1,style:{display:"flex"}},ns={class:"profile"},os={style:{"font-size":"15px","font-weight":"bold",color:"black"}},ls={key:0,style:{"font-size":"14px",color:"#363636","margin-top":"3px"}},is={key:1,style:{"font-size":"14px",color:"#363636","margin-top":"3px"}},as=K({__name:"index",setup(D){const g=we(),$=We(),u=J(),i=L(!1);W(async()=>{try{customElements.get("toggle-button")||customElements.define("toggle-button",Kt),await g.getInfo()}catch(c){console.error("Error defining custom element or getting user info:",c)}}),_();function _(){let c=$.query.access_token,a=$.query.login_type,T=$.query.user_name;c&&a&&qe(c,a,T).then(async m=>{m.code===200?(await C.replace({query:{}}),Ke(m.data.token,m.data.expire,!0),await g.getInfo(),B.success("登录成功"),await C.push("/")):B.error(m.msg)})}const r=()=>{Ee().then(c=>{c.code===200&&(xe(),g.userInfo=void 0,B.success("退出登录成功"),C.push("/"))})},s=L(!1);function b({detail:c}){u.value=c}return(c,a)=>{const T=te,m=Ce,I=se,w=Pt,o=be("toggle-button"),A=ne,N=oe,V=q,v=le,E=ie,f=Je,x=Me;return h(),y(U,null,[t("div",Gt,[e(I,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=p=>i.value=p),"show-close":!1,"close-on-click-modal":!1,"lock-scroll":!0},{header:n(()=>[t("div",jt,[a[10]||(a[10]=t("span",{style:{"font-size":"1.2rem"}},"搜索",-1)),e(T,{icon:l(j),style:{background:"none","font-size":"1.5rem",width:"30px",border:"none"},onClick:a[0]||(a[0]=p=>i.value=!1)},null,8,["icon"])])]),default:n(()=>[e(m,{onIsShowSearch:a[1]||(a[1]=p=>i.value=!1)})]),_:1},8,["modelValue"])]),t("div",Wt,[e(w)]),t("div",Jt,[t("div",null,[t("div",{onClick:a[3]||(a[3]=p=>s.value=!0)},[e(H,{name:"directory_icon",width:"30",height:"30",color:"#409EFF",class:"icon"})]),t("div",Qt,[e(o,{onChange:b,size:"1"})])]),t("div",Zt,[t("div",{class:"search",onClick:a[4]||(a[4]=p=>i.value=!0),style:{"margin-right":"2rem"}},[e(H,{name:"search",width:"30",height:"30",color:"#409EFF",class:"icon"})]),t("div",es,[l(g).userInfo==null?(h(),y("div",ts,[e(N,{class:"box-item",effect:"light",content:"点击去登录",placement:"right"},{default:n(()=>[e(A,{onClick:a[5]||(a[5]=p=>c.$router.push("/welcome")),style:{"margin-right":"3rem"}},{default:n(()=>[...a[11]||(a[11]=[k("登录",-1)])]),_:1})]),_:1})])):(h(),y("div",ss,[e(N,{class:"box-item",effect:"light",placement:"right"},{content:n(()=>{var p,z,M,R;return[t("div",ns,[t("div",os,S((p=l(g).userInfo)==null?void 0:p.username),1),((z=l(g).userInfo)==null?void 0:z.registerType)===0?(h(),y("div",ls,S((M=l(g).userInfo)==null?void 0:M.email),1)):(h(),y("div",is,S(((R=l(g).userInfo)==null?void 0:R.registerType)===1?"Gitee登录":"Github登录"),1))])]}),default:n(()=>[e(E,null,{dropdown:n(()=>[e(v,{onClick:a[6]||(a[6]=p=>l(C).push("/setting"))},{default:n(()=>[e(V,null,{default:n(()=>[e(l(ge))]),_:1}),a[12]||(a[12]=k(" 个人设置 ",-1))]),_:1}),e(v,{onClick:r},{default:n(()=>[e(V,null,{default:n(()=>[e(l(he))]),_:1}),a[13]||(a[13]=k(" 退出登录 ",-1))]),_:1})]),default:n(()=>{var p;return[e(A,{style:{"margin-right":"3rem"},src:(p=l(g).userInfo)==null?void 0:p.avatar},null,8,["src"])]}),_:1})]),_:1})]))])])]),t("div",null,[e(x,{modelValue:s.value,"onUpdate:modelValue":a[9]||(a[9]=p=>s.value=p),"with-header":!0,size:"40%",direction:"ltr","show-close":!1},{header:n(()=>[a[14]||(a[14]=t("span",{style:{"font-size":"1.2rem"}},"导航",-1)),e(T,{icon:l(j),style:{background:"none","font-size":"1.5rem",width:"30px",border:"none"},onClick:a[7]||(a[7]=p=>s.value=!1)},null,8,["icon"])]),default:n(()=>[e(f,{"onUpdate:closeDrawer":a[8]||(a[8]=p=>s.value=!1)})]),_:1},8,["modelValue"])])],64)}}});const ps=Q(as,[["__scopeId","data-v-593052d2"]]);export{ps as _};
